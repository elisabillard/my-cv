---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { cvData } from '../data/cv.js';
---
<html lang="en">
<head>
<BaseHead 
  title="Research & Projects | Elisa Billard" 
  description="Publications, grants, and technical projects in Biological Data Science." 
  />
</head>
<body class="bg-white">
  <Header />
  <main class="max-w-3xl mx-auto px-6 py-12">
    
    <section class="mb-16">
      <h2 class="mb-8">Publications & Grants</h2>
      <div class="space-y-10">
        {cvData.papers.map(paper => (
          <div class="relative pl-6 border-l-2 border-slate-100 hover:border-blue-500 transition-colors group">
            <h3 class="leading-tight">{paper.title}</h3>
            
            {paper.authors && (
              <p class="text-slate-500 mt-2 italic text-sm leading-relaxed">{paper.authors}</p>
            )}
            
            {paper.note && (
              <p class="text-sm text-slate-600 mt-2">
                {paper.note} {paper.year && <span class="text-meta ml-1">â€” {paper.year}</span>}
              </p>
            )}
            
            {paper.link && (
              <div class="mt-3">
                <a 
                  href={paper.link} 
                  target="_blank" 
                  class="inline-flex items-center gap-1.5 text-xs font-bold text-blue-600 hover:text-blue-800 no-underline transition-colors"
                >
                  <span>VIEW PREPRINT</span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                </a>
              </div>
            )}
          </div>
        ))}
      </div>
    </section>

    <section>
      <h2 class="mb-8">Technical Projects</h2>
      <div class="space-y-10">
        {cvData.projects.map(project => (
          <div class="relative pl-6 border-l-2 border-slate-100 hover:border-blue-500 transition-colors group">
            <div class="flex justify-between items-start mb-2">
              <h3 class="group-hover:text-blue-600 transition-colors">{project.name}</h3>
              {project.link && (
                <a href={project.link} target="_blank" class="text-slate-400 hover:text-blue-600 transition-colors" title="View Project Link">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                </a>
              )}
            </div>
            
            <div class="flex flex-col gap-3">
              <div class="flex flex-wrap gap-2">
                 {project.tools.split(', ').map(tool => (
                   <span class="text-meta bg-slate-50 px-2 py-1 border border-slate-100 rounded text-slate-500 lowercase">
                     {tool}
                   </span>
                 ))}
              </div>

              {project.report && (
                <div>
                  <a 
                    href={`/${project.report}`} 
                    target="_blank" 
                    class="inline-flex items-center gap-1.5 text-[11px] font-bold text-slate-600 hover:text-blue-600 no-underline transition-colors"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg>
                    VIEW PROJECT REPORT
                  </a>
                </div>
              )}
            </div>
          </div>
        ))}
      </div>
    </section>
  </main>
  <Footer />
</body>
</html>